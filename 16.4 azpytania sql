CREATE TABLE ISSUESLISTS
(
    ID   SERIAL PRIMARY KEY,
    NAME   VARCHAR(100)
    );

CREATE TABLE ISSUES
(
    ID   SERIAL PRIMARY KEY,
    ISSUESLIST_ID BIGINT UNSIGNED NOT NULL,
    SUMMARY   VARCHAR(100),
    DESCRIPTION VARCHAR(1024),
    USER_ID_ASSIGNEDTO BIGINT UNSIGNED NOT NULL,
    FOREIGN KEY (ISSUESLIST_ID) REFERENCES ISSUESLISTS(ID),
    FOREIGN KEY (USER_ID_ASSIGNEDTO) REFERENCES USERS(ID)
);

INSERT INTO ISSUESLISTS (NAME)
VALUES ("ToDo");
INSERT INTO ISSUESLISTS (NAME)
VALUES ("In progress");
INSERT INTO ISSUESLISTS (NAME)
VALUES ("Done");
COMMIT;
SELECT * FROM ISSUESLISTS;

INSERT INTO ISSUES (ISSUESLIST_ID,SUMMARY,USER_ID_ASSIGNEDTO  )
VALUES (1, "work", 1);
INSERT INTO ISSUES (ISSUESLIST_ID,SUMMARY,USER_ID_ASSIGNEDTO  )
VALUES (1, "clean kitchen", 2);
INSERT INTO ISSUES (ISSUESLIST_ID,SUMMARY,USER_ID_ASSIGNEDTO  )
VALUES (1, "buy food", 3);
INSERT INTO ISSUES (ISSUESLIST_ID,SUMMARY,USER_ID_ASSIGNEDTO  )
VALUES (1, "wash car", 1);
INSERT INTO ISSUES (ISSUESLIST_ID,SUMMARY,USER_ID_ASSIGNEDTO  )
VALUES (1, "make dinner", 3);

INSERT INTO ISSUES (ISSUESLIST_ID,SUMMARY,USER_ID_ASSIGNEDTO  )
VALUES (2, "work", 2);
INSERT INTO ISSUES (ISSUESLIST_ID,SUMMARY,USER_ID_ASSIGNEDTO  )
VALUES (2, "driving a car", 4);
INSERT INTO ISSUES (ISSUESLIST_ID,SUMMARY,USER_ID_ASSIGNEDTO  )
VALUES (2, "learning foregin language", 5);
INSERT INTO ISSUES (ISSUESLIST_ID,SUMMARY,USER_ID_ASSIGNEDTO  )
VALUES (2, "sunbathing", 1);
INSERT INTO ISSUES (ISSUESLIST_ID,SUMMARY,USER_ID_ASSIGNEDTO  )
VALUES (2, "resting", 3);

INSERT INTO ISSUES (ISSUESLIST_ID,SUMMARY,USER_ID_ASSIGNEDTO  )
VALUES (3, "throw trash", 5);
INSERT INTO ISSUES (ISSUESLIST_ID,SUMMARY,USER_ID_ASSIGNEDTO  )
VALUES (3, "make brekfast", 4);
INSERT INTO ISSUES (ISSUESLIST_ID,SUMMARY,USER_ID_ASSIGNEDTO  )
VALUES (3, "sleep", 1);
INSERT INTO ISSUES (ISSUESLIST_ID,SUMMARY,USER_ID_ASSIGNEDTO  )
VALUES (3, "visit church", 3);
INSERT INTO ISSUES (ISSUESLIST_ID,SUMMARY,USER_ID_ASSIGNEDTO  )
VALUES (3, "play a game", 2);

COMMIT;
SELECT * FROM ISSUES;

SHOW VARIABLES LIKE "secure_file_priv";

SELECT ID, ISSUESLIST_ID, SUMMARY, USER_ID_ASSIGNEDTO  FROM ISSUES
INTO OUTFILE 'C:/ProgramData/MySQL/MySQL Server 8.0/Uploads/saves/list.txt'
    FIELDS
    TERMINATED BY ','
    OPTIONALLY ENCLOSED BY '"'
    ESCAPED BY '\\'
    LINES TERMINATED BY '\n';

SELECT ID, FIRSTNAME FROM USERS
WHERE (ID >= 4 AND ID <= 10)
   OR ID = 1;

SELECT U.FIRSTNAME, U.LASTNAME, P.BODY
FROM USERS U
         JOIN POSTS P ON U.ID = P.USER_ID;

SELECT USER_ID, COUNT(*) AS POSTS_NUMBER
FROM POSTS
GROUP BY USER_ID
HAVING COUNT(*) > 1;
